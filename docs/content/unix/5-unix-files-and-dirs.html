<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to Bioinformatics for Malaria Molecular Surveillance - 5&nbsp; Working with files and directories</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../content/unix/6-unix-more-commands.html" rel="next">
<link href="../../content/unix/4-unix-navigation.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../content/unix/1-unix-intro.html">Introduction to the Unix shell</a></li><li class="breadcrumb-item"><a href="../../content/unix/5-unix-files-and-dirs.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with files and directories</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Introduction to Bioinformatics for Malaria Molecular Surveillance</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Introduction to the Unix shell</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/1-unix-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What is a CLI?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/2-unix-setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Setting up your own Unix shell</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/3-unix-enter-the-shell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Using the shell</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/4-unix-navigation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Navigating the Unix file system</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/5-unix-files-and-dirs.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with files and directories</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/6-unix-more-commands.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">More advanced commands</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/7-unix-redirection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Streams, redirection and piping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/8-unix-variables-loops-scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Variables, loops and scripts</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/unix/appendix-unix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Various Unix topics</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#examining-files" id="toc-examining-files" class="nav-link active" data-scroll-target="#examining-files"><span class="header-section-number">5.1</span> Examining files</a>
  <ul>
  <li><a href="#cat-viewing-short-files" id="toc-cat-viewing-short-files" class="nav-link" data-scroll-target="#cat-viewing-short-files"><span class="header-section-number">5.1.1</span> <code>cat</code>: viewing short files</a></li>
  <li><a href="#less-viewing-large-files" id="toc-less-viewing-large-files" class="nav-link" data-scroll-target="#less-viewing-large-files"><span class="header-section-number">5.1.2</span> <code>less</code>: viewing large files</a>
  <ul class="collapse">
  <li><a href="#fasta-file-format" id="toc-fasta-file-format" class="nav-link" data-scroll-target="#fasta-file-format"><span class="header-section-number">5.1.2.1</span> FASTA file format</a></li>
  </ul></li>
  <li><a href="#head-and-tail-viewing-the-start-or-end-of-files" id="toc-head-and-tail-viewing-the-start-or-end-of-files" class="nav-link" data-scroll-target="#head-and-tail-viewing-the-start-or-end-of-files"><span class="header-section-number">5.1.3</span> <code>head</code> and <code>tail</code>: viewing the start or end of files</a>
  <ul class="collapse">
  <li><a href="#sec-fastq" id="toc-sec-fastq" class="nav-link" data-scroll-target="#sec-fastq"><span class="header-section-number">5.1.3.1</span> FASTQ file format</a></li>
  </ul></li>
  <li><a href="#wc-counting-lines" id="toc-wc-counting-lines" class="nav-link" data-scroll-target="#wc-counting-lines"><span class="header-section-number">5.1.4</span> <code>wc</code>: counting lines</a></li>
  </ul></li>
  <li><a href="#editing-files" id="toc-editing-files" class="nav-link" data-scroll-target="#editing-files"><span class="header-section-number">5.2</span> Editing files</a></li>
  <li><a href="#moving-things-around" id="toc-moving-things-around" class="nav-link" data-scroll-target="#moving-things-around"><span class="header-section-number">5.3</span> Moving things around</a>
  <ul>
  <li><a href="#cp-copying-files-and-directories" id="toc-cp-copying-files-and-directories" class="nav-link" data-scroll-target="#cp-copying-files-and-directories"><span class="header-section-number">5.3.1</span> <code>cp</code>: copying files and directories</a></li>
  <li><a href="#sec-globbing" id="toc-sec-globbing" class="nav-link" data-scroll-target="#sec-globbing"><span class="header-section-number">5.3.2</span> Intermezzo: globbing and wildcards</a></li>
  <li><a href="#mv-moving-or-renaming-files-and-directories" id="toc-mv-moving-or-renaming-files-and-directories" class="nav-link" data-scroll-target="#mv-moving-or-renaming-files-and-directories"><span class="header-section-number">5.3.3</span> <code>mv</code> Moving or renaming files and directories</a></li>
  </ul></li>
  <li><a href="#creation-and-destruction" id="toc-creation-and-destruction" class="nav-link" data-scroll-target="#creation-and-destruction"><span class="header-section-number">5.4</span> Creation and destruction</a>
  <ul>
  <li><a href="#creating-files" id="toc-creating-files" class="nav-link" data-scroll-target="#creating-files"><span class="header-section-number">5.4.1</span> Creating files</a></li>
  <li><a href="#mkdir-creating-directories" id="toc-mkdir-creating-directories" class="nav-link" data-scroll-target="#mkdir-creating-directories"><span class="header-section-number">5.4.2</span> <code>mkdir</code>: creating directories</a></li>
  <li><a href="#rm-removing-things" id="toc-rm-removing-things" class="nav-link" data-scroll-target="#rm-removing-things"><span class="header-section-number">5.4.3</span> <code>rm</code>: removing things</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">5.5</span> Exercises</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">5.6</span> Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with files and directories</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Prior experience
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can skip this section and proceed directly to the exercises if you are already familiar with basic commands like <code>cp</code>, <code>mv</code>, <code>less</code> and <code>nano</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember that we have provided a list of helpful tips and hints in the appendix: <a href="appendix-unix.html#sec-unix-tips"><span>Section&nbsp;A.1</span></a>.</p>
</div>
</div>
<section id="examining-files" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="examining-files"><span class="header-section-number">5.1</span> Examining files</h2>
<section id="cat-viewing-short-files" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="cat-viewing-short-files"><span class="header-section-number">5.1.1</span> <code>cat</code>: viewing short files</h3>
<p>The most basic command for viewing a file is the <code>cat &lt;file&gt;</code> command. It simply prints all of the contents of a file to the screen (= <em>standard output</em>).</p>
<pre><code>$ cd training/unix-demo
$ cat short.txt
On the Origin of Species

BY MEANS OF NATURAL SELECTION,

OR THE PRESERVATION OF FAVOURED RACES IN THE STRUGGLE FOR LIFE.

By Charles Darwin, M.A., F.R.S.,

Author of “The Descent of Man,” etc., etc.

Sixth London Edition, with all Additions and Corrections.</code></pre>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Try using <code>cat</code> on the file named <code>long.txt</code> and see what happens (Click me to expand!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The entire file (in this case, the entirety of the Origin of Species by Charles Darwin) is printed to the screen. This works, but is not very easy to navigate. Especially if you consider the fact that this text is still just tiny compared to some of the files that we deal with in bioinformatics; it is only ~0.03% of the size of the (rather short) human Y chromosome (~60 Mbp) that we will look at next.</p>
</div>
</div>
</div>
<p>While <code>cat</code> is very useful, it is clearly not suitable for large text files. Since long files are very prevalent - and not only in bioinformatics - we need an alternative. Enter the <code>less</code> command.</p>
</section>
<section id="less-viewing-large-files" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="less-viewing-large-files"><span class="header-section-number">5.1.2</span> <code>less</code>: viewing large files</h3>
<p>This tool is suitable for streaming very large files which would otherwise crash a normal text editor or program like Excel. <code>less</code> will open the contents of the file in a dedicated viewer, i.e.&nbsp;your terminal and prompt will be replaced by a unique interface for the <code>less</code> tool. You can exit this interface by pressing <code>q</code>.</p>
<p>Using <code>less</code>, we can have a look at the (truncated) version of the human Y chromosome (in FASTA format):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> less Homo_sapiens.GRCh38.dna.chromosome.Y.truncated.fa</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/less-fasta.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Opening a FASTA file in <code>less</code></figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Navigating inside <code>less</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>Use arrow keys to navigate. <code>space</code> and <code>b</code> can also be used to go forward and backwards, and <code>page up</code>/<code>page down</code> work as well.</li>
<li>Press <code>g</code> to jump to the start of the file</li>
<li>Press <code>G</code> (<code>shift + g</code>) to jump to the end of the file</li>
<li>Type <code>/</code> followed by a string to search forward (<code>?[string]</code> for backwards search) and <code>n</code>/<code>N</code> for the previous/next match</li>
<li>To exit, press <code>Q</code></li>
<li>Use the help command for more info: <code>less --help</code></li>
</ul>
</div>
</div>
</div>
<section id="fasta-file-format" class="level4" data-number="5.1.2.1">
<h4 data-number="5.1.2.1" class="anchored" data-anchor-id="fasta-file-format"><span class="header-section-number">5.1.2.1</span> FASTA file format</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
DNA sequence file formats: FASTA
</div>
</div>
<div class="callout-body-container callout-body">
<p>The FASTA file format (usually denoted by a <code>.fa</code> or <code>.fasta</code> file extension) is very common in bioinformatics. As you can see, the FASTA files contain a long stretch of nucleotides, which in our case represent the sequence of the human Y chromosome (or at least the first ~6,000,000 basepairs). The sequence itself is usually broken up over multiple lines. At the very top of the file there is a header or identifier, which always starts with the <code>&gt;</code> symbol, followed by a short description. FASTA files can store one or multiple sequences, each with their own header.</p>
<p>FASTA files are a type of text-based or <em>plain text files</em>, meaning that we can simply read them using a tool like <code>cat</code> or <code>less</code>. This seems obvious, but we will later encounter another file type, namely <em>binary files</em>, where this is not the case.</p>
<p>FASTA files are commonly used in genomics to store the reference genome of the organism we are studying. A reference genome can be used as a template to which we map (or align) new DNA sequence reads we have generated.</p>
<pre><code>&gt;Pf3D7_01_v3 | organism=Plasmodium_falciparum_3D7 | version=2020-09-01 | length=640851 | SO=chromosome
TGAACCCTAAAACCTAAACCCTAAACCCTAAACCCTGAACCCTAAACCCTGAACCCTAAA
CCCTAAACCCTGAACCCTAAACCCTAAACCCTGAACCCTAAACCCTGAAACCTAAACCCT
GAACCCTAAACCCTGAACCCTGAACCCTAACCCTAAACCCTAAACCTAAAACCCTGAACC
CTAAACCCTGAACCCTGAACCCTAAACCCTGAACCCTAAACCCTAAACCCTGAACCCTAA
ACCCTGAACCCTAAACCCTAAACCCTGAACCCTGAACCCTAAAACCTAAACCCTAAACCC
TAAACCCTAAACCCTGAACCTAAACCTAAAACCTAAAACCTAAAACCCTGAACCCTTACT
TTTCATTTCTTCTTCTTATCTTCTTACTTTTCATTCTTTACTCTTACTTACTTAGTCTTA
CTTACTTACTCTTACTTACTTACTCTTATCTTCTTACTTTTCATTTCTTAGTCTTACTTA
...</code></pre>
</div>
</div>
</section>
</section>
<section id="head-and-tail-viewing-the-start-or-end-of-files" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="head-and-tail-viewing-the-start-or-end-of-files"><span class="header-section-number">5.1.3</span> <code>head</code> and <code>tail</code>: viewing the start or end of files</h3>
<p>Sometimes we are not interested in viewing the entire file, but just the first few or last lines. The commands <code>head</code> and <code>tail</code> were created for exactly this use case. The basic usage is simply <code>head &lt;filepath&gt;</code>, but there again are a few optional flags that can alter the default behaviour.</p>
<table class="table">
<colgroup>
<col style="width: 31%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>head file</code></td>
<td>Print the first 10 lines of a file</td>
</tr>
<tr class="even">
<td><code>tail file</code></td>
<td>Print the last 10 lines of a file</td>
</tr>
<tr class="odd">
<td><code>head -n # file</code></td>
<td>Display the first # lines of a file</td>
</tr>
<tr class="even">
<td><code>tail -n # file</code></td>
<td>Display the final # lines of a file</td>
</tr>
<tr class="odd">
<td><code>tail -n +2 file</code></td>
<td>Display all lines except for the first one (i.e., perform <code>tail</code>, but start at line 2)</td>
</tr>
</tbody>
</table>
<p>Let us inspect the first lines of one of the (uncompressed) FASTQ files in the <code>unix-demo</code> directory:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> head PF0512_S47_L001_R1_001.fastq</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">@M05795:43:000000000-CFLMP:1:1101:16134:1717</span> 1:N:0:47</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">TTGGTCAAGATCTTTTACATTCCATGCACACAAAAGAATTCTTCTACTTGTCTGATCCTTTTTCATTATATTTATTATCTTTTTTTATTTTTCCTCTCCTTTATTTTCATAATTATCATACATATTTTTATATTCATCACCTAAATGTCTCCATTTAAAACCATAAATAGTTCCTAATTCGTTAACTTCTCTATGACATAATTTTCTATTATCTCTTTCTCTTATCCACATCTCCGAGCCCACGAGACGTCGCACCCTCTCCTATGCCCTCTTCTGCTTGAAACACAAACGCCACCACCT</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">-8B</span><span class="op">&lt;</span>CGGFGGGDGGGGGEFGGGAFFEFCFGGDC888C,CF@@FFG,6FC,C,,,,<span class="op">&lt;&lt;,&lt;&lt;CCE,,&lt;</span>C,,,<span class="op">&lt;</span>6B,<span class="kw">;</span><span class="ex">B,</span><span class="op">&lt;</span>,<span class="op">&lt;</span>A@EEC+,:@,,94,,5549@<span class="pp">?</span>F,@@<span class="pp">?</span>D<span class="op">&lt;</span>,C,,9@,A<span class="kw">;</span><span class="ex">,C,9,A,:A=,</span><span class="op">&gt;</span>,9,9@<span class="kw">;</span><span class="ex">,,,,94,,,,9,9499=,9</span><span class="op">&gt;</span>,,,,,9+,9,,,9,,,493@,,,99+60++6==93=C+C++++6++4<span class="op">&lt;</span>=<span class="kw">;</span><span class="ex">=D+?=+42+43+33*?=</span><span class="kw">;</span><span class="ex">+**5*1*</span><span class="er">)</span><span class="ex">0*108</span><span class="er">))</span><span class="ex">18=</span><span class="er">)</span><span class="bu">:</span><span class="er">))))</span><span class="ex">0</span><span class="er">)</span><span class="ex">185</span><span class="er">)))</span><span class="ex">1</span><span class="er">))</span><span class="ex">--:</span><span class="er">)</span><span class="ex">1*/*16</span><span class="er">)</span><span class="ex">0/</span><span class="er">(</span><span class="ex">01//8***</span><span class="er">(</span><span class="kw">)</span><span class="ex">**</span><span class="er">((</span>((((<span class="kw">,</span>(((<span class="op">/</span>((<span class="kw">,</span>(<span class="kw">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>@<span class="va">M05795</span><span class="op">:</span><span class="dv">43</span><span class="op">:</span><span class="dv">000000000</span><span class="op">-</span><span class="va">CFLMP</span><span class="op">:</span><span class="dv">1</span><span class="op">:</span><span class="dv">1101</span><span class="op">:</span><span class="dv">20605</span><span class="op">:</span><span class="dv">1731</span> <span class="dv">1</span><span class="op">:</span><span class="va">N</span><span class="op">:</span><span class="dv">0</span><span class="op">:</span><span class="dv">47</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="va">GAAAAAGGAAGAGAATTGAACTTTTGGCAGCAAACTCAAACATTATAAGTGAAATTAAGATGCCCAAGTCTGTGCTCAATCTCATTTTTTGTTTTTGTGTTTTTCCTTCAATCTCTTCATGTATTCAGTTATTTTTAAT</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="op">-</span>@<span class="va">CCCGGGGGGGGCGFG</span>@<span class="op">&lt;</span><span class="va">EFGGGGAFFFEGGC8FEF9</span><span class="kw">,,</span>;<span class="kw">,</span><span class="va">CE</span><span class="kw">,</span><span class="va">C</span><span class="kw">,,,</span><span class="op">&lt;</span><span class="kw">,,,,</span><span class="op">&lt;</span><span class="va">C</span><span class="kw">,,,,</span><span class="op">&lt;</span><span class="kw">,,</span><span class="dv">6</span>;<span class="kw">,,,</span>;;<span class="va">C</span><span class="kw">,</span><span class="op">&lt;</span><span class="kw">,</span><span class="dv">6</span>;<span class="va">C</span><span class="kw">,,</span><span class="op">&lt;</span><span class="kw">,,</span><span class="op">:</span><span class="kw">,</span><span class="op">:</span>@<span class="kw">,</span><span class="dv">5</span><span class="kw">,</span><span class="dv">8</span><span class="op">+</span><span class="kw">,,</span><span class="dv">9</span><span class="op">:</span>@<span class="op">+:</span><span class="kw">,,</span><span class="dv">9</span><span class="kw">,</span><span class="dv">9</span><span class="kw">,</span><span class="dv">99AE?,,,959AA?,9</span><span class="kw">,,,</span><span class="dv">994</span><span class="kw">,,</span><span class="dv">9</span><span class="op">=</span><span class="kw">,</span><span class="dv">9</span><span class="op">&gt;</span><span class="va">ED</span><span class="kw">,,,</span><span class="dv">9</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>@<span class="va">M05795</span><span class="op">:</span><span class="dv">43</span><span class="op">:</span><span class="dv">000000000</span><span class="op">-</span><span class="va">CFLMP</span><span class="op">:</span><span class="dv">1</span><span class="op">:</span><span class="dv">1101</span><span class="op">:</span><span class="dv">9135</span><span class="op">:</span><span class="dv">1768</span> <span class="dv">1</span><span class="op">:</span><span class="va">N</span><span class="op">:</span><span class="dv">0</span><span class="op">:</span><span class="dv">47</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="va">CGTTAAAATCTTGCTCCTCATCACTACTAACCTTTTGTTCATTCTCATCACAAATATTATCCTTATCTTCATTATCTACTTCATCTACATTATTTTTTAT</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="sec-fastq" class="level4" data-number="5.1.3.1">
<h4 data-number="5.1.3.1" class="anchored" data-anchor-id="sec-fastq"><span class="header-section-number">5.1.3.1</span> FASTQ file format</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
DNA sequence file formats: FASTQ
</div>
</div>
<div class="callout-body-container callout-body">
<p>Aside from FASTA files, another typical DNA sequence format is FASTQ (extension <code>.fastq</code> or <code>.fq</code>), which is used to store the raw output of high-throughput sequencing (like AmpliSeq) in the form of short read fragments. Like FASTA, it is text-based format, but instead of just identifiers and sequences, it also contains quality scores associated with each nucleotide. Each read is described by four lines of text. A single read might look like this:</p>
<pre><code>@SEQ_ID
ACTACTAGGATTGAGGACGTCCTCCCAACAGGGAGTTGGTTGGGCGCCCGGTGCCGTCATGTCCGATCGCTATCTACGTCTAGTACTAGAGAATTATACA
+
"H85&lt;EI4A533D;E1A56C@@GHI=BFGIIH6;F=3::HGF8C;9/&gt;;EI?E4I(F?FID&lt;CBAFFD69E:BB&gt;+#&lt;58H:/&lt;&gt;IE;881&amp;'D':F&lt;&lt;H("</code></pre>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 91%">
</colgroup>
<thead>
<tr class="header">
<th>Line</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>identifier: always starts with ‘@’ and contains information about the read (e.g., instrument, lane, multiplex tag, coordinates, etc.</td>
</tr>
<tr class="even">
<td>2</td>
<td>The sequence of nucleotides making up the read</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Always begins with a ‘+’ and sometimes repeats the identifier</td>
</tr>
<tr class="even">
<td>4</td>
<td>Contains a string of ASCII characters that represent the quality score for each base (i.e., it has the exact same length as line 2)</td>
</tr>
</tbody>
</table>
<p>FASTQ files often come in pairs, which are usually named the same with a slightly different suffix (e.g., <code>sample_1_R1.fastq</code> and <code>sample_1_R2.fastq</code>). These pairs are reads of the same fragment in the opposite direction. In a nutshell, paired-end sequencing is used because the additional information provided by reads being paired can help with mapping repetitive regions of the genome.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Try inspecting the contents of one of the <code>.fastq.gz</code> files in the <code>training/data/fastq</code> directory (Click me to expand!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The <code>less</code> command most likely behaves as we expect it to, but if we were to try <code>cat</code>, <code>head</code> or <code>tail</code>, you would see a lot of gibberish being printed to your screen.</p>
<p>The reason is that these FASTQ files are compressed using <code>gzip</code> (which is why the file extension ends in <code>.gz</code>). Because of this, they are no longer plain text files, but compressed binary versions. We will learn more about compressed files and how to deal with them in a later section of this course. In a nutshell though, compressed files either need to be unpacked or they require a tool that was designed to handle them (e.g., <code>zcat</code>, <code>zgrep</code>, <code>zless</code>. In most linux distributions, <code>zless</code> is called automatically when you try to <code>less</code> a file with the <code>.gz</code> extension, which is why the text seemed normal.</p>
</div>
</div>
</div>
</section>
</section>
<section id="wc-counting-lines" class="level3" data-number="5.1.4">
<h3 data-number="5.1.4" class="anchored" data-anchor-id="wc-counting-lines"><span class="header-section-number">5.1.4</span> <code>wc</code>: counting lines</h3>
<p>Sometimes we’re not interested in the specific contents of a file, but only in how long it is in terms of text (not file size). For this we can use the <code>wc</code> command: it can count the number of lines, words and characters in a text file. By default, it prints all of this information, but by providing the <code>-l</code> flag, you can tell the command to only return the number of lines. Taking the example of our FASTQ file again, we see:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of lines, words and characters</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wc PF0512_S47_L001_R1_001.fastq</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">582940</span>   728675 69598721 PF0512_S47_L001_R1_001.fastq</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># number of lines only</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> PF0512_S47_L001_R1_001.fastq</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="ex">582940</span> PF0512_S47_L001_R1_001.fastq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
How many reads are there in this FASTQ file? (Click me to expand!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Each read in a FASTQ file consists of four lines (see <a href="#sec-fastq"><span>Section&nbsp;5.1.3.1</span></a>). Therefore, we can simply divide the output of <code>wc -l</code> by four to figure out the number of reads. In this case: <span class="math display"> {582,940 \over 4} = 145,735</span> reads.</p>
</div>
</div>
</div>
</section>
</section>
<section id="editing-files" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="editing-files"><span class="header-section-number">5.2</span> Editing files</h2>
<p>You can edit files directly on the command line, i.e.&nbsp;without opening them in a text editor like Notepad(++) or VSCode, by using the <code>nano</code> command. This can come in quite handy in a variety of situations, like fixing small errors in your code before running it or to editing configuration files. Similar to <code>less</code>, <code>nano</code> will open a special editor interface where you can edit text files.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/nano.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">The <code>nano</code> text editor</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Navigating inside <code>nano</code>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Your mouse pointer won’t work. Use arrow keys to move instead.</li>
<li>To save, press <code>ctrl+o</code>, followed by return/enter.</li>
<li>To exit, press <code>ctrl+x</code>, followed by return/enter.</li>
</ul>
</div>
</div>
<p>There exist many other editors, one of the most beloved, yet notorious ones, being <code>vim</code>. It is quite a bit more powerful, but also more complex. Even <a href="https://stackoverflow.com/questions/11828270/how-do-i-exit-vim">closing vim</a> has become somewhat of a meme because it can be difficult to figure out (it’s <code>&lt;escape&gt;</code> followed by <code>:q</code> and `enter/return``).</p>
</section>
<section id="moving-things-around" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="moving-things-around"><span class="header-section-number">5.3</span> Moving things around</h2>
<p>Now that we have spent some time on inspecting files, let us move on to moving them around.</p>
<section id="cp-copying-files-and-directories" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="cp-copying-files-and-directories"><span class="header-section-number">5.3.1</span> <code>cp</code>: copying files and directories</h3>
<p><code>cp</code> stands for copy and it does exactly what it says on the tin. It can copy files, as well as directories to a new location. For files, the syntax is as follows:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> path/to/source_file path/to/destination</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Where <code>source</code> is the original file that you want to copy and <code>destination</code> is the new path where you want to place the copy. If the destination is a directory, the file will be placed inside of it with the same name as the original file. If the destination does not exist yet, it will be used as the new name for the copy.</p>
<p>When we want to move around directories instead of files, we need to add the <code>-r</code> flag (short for <code>--recursive</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-r</span> path/to/source_directory path/to/destination_file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can even copy multiple files at the same time!</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cp file_1 file_2 file_3 /path/to/destination</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls /path/to/destination</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">file_1</span> file_2 file_3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sec-globbing" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="sec-globbing"><span class="header-section-number">5.3.2</span> Intermezzo: globbing and wildcards</h3>
<p>Now seems like a good time to introduce the concept of the globbing and wildcards. Globbing allows you to perform operations on multiple files. By providing specific patterns, the shell will be able to expand them into a list of matching file names. The patterns are built using wildcards, one of the most common ones being the asterisk <code>*</code>.</p>
<p>How does this work? Well, <code>*</code> can represent any number of other characters. For example, the string <code>*.txt</code> can match all file names ending with <code>.txt</code> in your directory. Let’s look at a concrete example, using the <code>ls</code> command we saw earlier:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Homo_sapiens.GRCh38.dna.chromosome.Y.truncated.fa</span>  PF0512_S47_L001_R1_001.fastq  files_to_copy  files_to_delete  files_to_move  long.txt  short.txt  penguins.csv</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.txt</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">long.txt</span>  short.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As you can see, we can make <code>ls</code> list only those files that match a particular pattern, instead of showing all the files in the directory. What happens behind the scenes is that <code>*.txt</code> is expanded to <code>long.txt short.txt</code>. This means that the command that the shell eventually sees is actually <code>ls long.txt short.txt</code>.</p>
<p>Similarly, we can combine wildcards with the new <code>cp</code> command.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>.txt ..</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls ..</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What do you think this previous command will do? (Click me to expand!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>*.txt</code> will be expanded to a list of all <code>.txt</code> files in the current working directory. The <code>cp</code> command will then try to copy each of those files to the destination, which is <code>..</code> in this case. As we saw before, <code>..</code> represents the parent directory of the current directory (see <a href="appendix-unix.html#sec-table-special-syntax"><span>Section&nbsp;A.2</span></a>).</p>
<p>This means that the command is equivalent to <code>cp long.txt short.txt /absolute/path/to/parent_directory</code> and will move all the <code>.txt</code> files in the current directory to its parent directory.</p>
</div>
</div>
</div>
<p>Another type of wildcard is <code>[...]</code>. This is used to supply a list of possible character matches. For example, the glob pattern <code>[bcr]at</code> would match <code>bat</code>, <code>cat</code> and <code>rat</code>.</p>
<p>There are a number of other wildcards, but even <code>*</code> alone will prove to be very useful. If you’d like to find out more, have a look <a href="https://pressbooks.senecacollege.ca/uli101/chapter/wildcard-selection-in-bash/">at this resource</a>. Also note that globbing looks similar to <a href="https://open.oregonstate.education/computationalbiology/chapter/patterns-regular-expressions/"><em>regular expressions</em></a>, but while related, these two concepts behave slightly differently. We will not dive into regular expressions here though, but we will mention them again when we talk about the search tool <code>grep</code>.</p>
<p>To summarise, globbing is an extremely powerful tool that will allow you to more easily target multiple files. We will rely on the power of globbing a lot going forward.</p>
</section>
<section id="mv-moving-or-renaming-files-and-directories" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="mv-moving-or-renaming-files-and-directories"><span class="header-section-number">5.3.3</span> <code>mv</code> Moving or renaming files and directories</h3>
<p>The <code>mv</code> (move) command behaves very similar to the <code>cp</code> command, the main difference being that the former allows you to move rather than copy files and directories. Also note that <code>mv</code> is used to <em>rename</em> files as well.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># move around/rename a particular file</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> <span class="op">&lt;</span>source_file<span class="op">&gt;</span> <span class="op">&lt;</span>destination_file<span class="op">&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># move a directory</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> <span class="op">&lt;</span>path/to/source_directory<span class="op">&gt;</span> <span class="op">&lt;</span>path/to/destination_directory<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="creation-and-destruction" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="creation-and-destruction"><span class="header-section-number">5.4</span> Creation and destruction</h2>
<p>We will end this section by teaching you how to create and delete files or directories.</p>
<section id="creating-files" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="creating-files"><span class="header-section-number">5.4.1</span> Creating files</h3>
<p>There are several ways of creating new files in Unix, but one of them is the <code>nano</code> command that we already introduced earlier. If you provide a file name that does not yet exist, <code>nano</code> will create the file for you.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> nano new_file.txt</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># inside nano, use ctrl+x to save the file and then close the editor via ctrl+x</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="ex">new_file.txt</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Another option is to use the <code>touch /path/to/file</code> command. This will just create a new empty file at the specified location.</p>
</section>
<section id="mkdir-creating-directories" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="mkdir-creating-directories"><span class="header-section-number">5.4.2</span> <code>mkdir</code>: creating directories</h3>
<p><code>mkdir</code> stands for <em>make directory</em> and it does just that:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir new_dir</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="ex">new_dir</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>One useful optional flag is <code>-p/--parents</code>: this allows you to create multiple nested (parent) directories in one go. For example, if we’re inside an empty directory, we could call:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> my/new/multi/level/directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And all the intermediate directories would be automatically created.</p>
</section>
<section id="rm-removing-things" class="level3" data-number="5.4.3">
<h3 data-number="5.4.3" class="anchored" data-anchor-id="rm-removing-things"><span class="header-section-number">5.4.3</span> <code>rm</code>: removing things</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Watch out…
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be careful while learning your way around the command-line. The Unix shell will do <em>exactly</em> what you tell it to, often without hesitation or asking for confirmation. This means that you might accidentally move, overwrite or delete files without intending to do so. For example, when creating, copying or moving files, they can overwrite existing ones if you give them the same name. Similarly, when a file is deleted, it will be removed completely, without first passing by a recycle bin.</p>
<p><strong>No matter how much experience you have, it is a good idea to remain cautious when performing these types of operations.</strong></p>
<p>For the purposes of learning, if you are using your own device instead of a cloud environment, we recommend that you work in a dedicated playground directory or even create a new user profile to be extra safe. And like always, backups of your important files are invaluable regardless of what you are doing.</p>
</div>
</div>
<p>The <code>rm</code> command (<em>remove</em>) is used to delete files and directories. Be warned though, once deleted, things are really gone. There is no recycle bin or trash folder where you can restore deleted items!</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for files:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="op">&lt;</span>file path<span class="op">&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># for directories</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-r</span> <span class="op">&lt;</span>directory path<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For files, this works as expected, but for directories you need to provide the <code>-r</code> flag (or <code>--recursive</code>). This tells Unix to remove the directory recursively, i.e.&nbsp;all of its contents need to be removed as well. If you don’t use this option, you will see the following warning:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> directory</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rm:</span> cannot remove <span class="st">'test/'</span>: Is a directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Protected files
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Sometimes, files will be protected and you will get another warning message when you try to remove them. If you are really sure that you want to delete them, you can type <code>y</code> and press enter. Alternatively, you can cancel the operation (by entering <code>n</code> or by pressing <code>ctrl+c</code>) and try again, but this time providing the <code>-f/--force</code> option.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new empty file</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> touch protected-file</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># change its permissions so that it is protected against writing and deleting (see appendix for more info on file permissions)</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> chmod a-w protected-file</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># try to remove it</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rm protected-file</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="ex">rm:</span> remove write-protected regular empty file <span class="st">'protected-file'</span><span class="pp">?</span> n</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># use the --force flag</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-f</span> protected-file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="exercises" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="exercises"><span class="header-section-number">5.5</span> Exercises</h2>
<ol type="1">
<li>Create a new directory named “my_dir” inside the <code>./training/unix-demo</code> directory. Next, without using <code>cd</code> first, create another directory named <code>my_sub_dir</code> inside of it. Finally, again without using <code>cd</code>, create a final directory named <code>my_sub_sub_dir</code> inside of that one.</li>
<li>Read the last 20 lines of the FASTA file in the <code>./training/unix-demo</code> directory.</li>
<li>Create a new text file named <code>lines</code> inside <code>my_subdir</code> using <code>nano</code>. Store the number of lines of the file <code>long.txt</code> inside. Then read it using <code>cat</code> and <code>less</code>.</li>
<li>Navigate to the <code>files_to_copy</code> directory and copy its contents to the <code>my_sub_dir</code> directory. What is the relative path of the destination to use?</li>
<li>Move the file under <code>files_to_move</code> to its parent directory.</li>
<li>Remove all the files under <code>files_to_delete</code> using a glob pattern.</li>
<li>Rename the directory <code>files_to_delete</code> to <code>empty_dir</code>.</li>
<li>List the contents of the <code>./training/unix-demo</code> directory.</li>
</ol>
<hr>
</section>
<section id="summary" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="summary"><span class="header-section-number">5.6</span> Summary</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Overview of concepts and commands
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>FASTA file format is used to store DNA sequences</li>
<li>FASTQ file format is used to store sequence reads and their quality scores</li>
<li>Compressed files (e.g., <code>.gz</code>) are smaller in file size, but are no longer plain text files and require special tools.</li>
<li>The permission of files can be set to prevent users from reading, writing or (re)moving them.</li>
</ul>
<table class="table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cat &lt;path/to/file&gt;</code></td>
<td>print the content of files</td>
</tr>
<tr class="even">
<td><code>less &lt;path/to/file&gt;</code></td>
<td>read the contents of (large) files in a special viewer</td>
</tr>
<tr class="odd">
<td><code>head/tail &lt;path/to/file&gt;</code></td>
<td>view the first or last lines of a file</td>
</tr>
<tr class="even">
<td><code>wc &lt;path/to/file</code></td>
<td>display the line/word/character count of a file</td>
</tr>
<tr class="odd">
<td><code>nano &lt;path/to/file&gt;</code></td>
<td>open a file (or create a new file) in the <code>nano</code> text editor</td>
</tr>
<tr class="even">
<td><code>cp [-r] &lt;source&gt; &lt;destination&gt;</code></td>
<td>copy a file/directory to a new location</td>
</tr>
<tr class="odd">
<td><code>mv [-r] &lt;source&gt; &lt;destination&gt;</code></td>
<td>move a file/directory to a new location (or rename it)</td>
</tr>
<tr class="even">
<td><code>rm [-r] &lt;path/to/file_or_directory&gt;</code></td>
<td>permanently remove a file/directory</td>
</tr>
<tr class="odd">
<td><code>mkdir &lt;path/to/directory&gt;</code></td>
<td>create a new directory</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../content/unix/4-unix-navigation.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Navigating the Unix file system</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../content/unix/6-unix-more-commands.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">More advanced commands</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">All content licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>. <br> © Pieter Moris, 2023.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>